{% extends "newsapp/base.html" %}

{% block title %}{{ translations.password_reset_confirm }}{% endblock %}

{% block nav_buttons %}
<div class="buttons">
    <a href="{% url 'users:signup' %}" role="button" class="secondary">{{ translations.sign_up }}</a>
    <a href="{% url 'users:login' %}" role="button" class="contrast">{{ translations.login }}</a>
</div>
{% endblock %}

{% block content %}
<h2>{{ translations.password_reset_confirm }}</h2>

{% if messages %}
<div>
    {% for message in messages %}
    <div class="alert-error">{{ message }}</div>
    {% endfor %}
</div>
{% endif %}

<form method="post">
    {% csrf_token %}
    <div>
        <label for="{{ form.new_password1.id_for_label }}">{{ form.new_password1.label }}</label>
        {{ form.new_password1 }}
        {% if form.new_password1.errors %}
        <ul class="errorlist">
            {% for error in form.new_password1.errors %}
            <li>{{ error|linebreaksbr }}</li>
            {% endfor %}
        </ul>
        {% endif %}
    </div>
    <div>
        <label for="{{ form.new_password2.id_for_label }}">{{ form.new_password2.label }}</label>
        {{ form.new_password2 }}
        {% if form.new_password2.errors %}
        <ul class="errorlist">
            {% for error in form.new_password2.errors %}
            <li>{{ error|linebreaksbr }}</li>
            {% endfor %}
        </ul>
        {% endif %}
    </div>
    <div class="grid">
        <button type="submit">{{ translations.save_new_password }}</button>
        <button type="reset" class="secondary">{{ translations.reset }}</button>
    </div>
</form>
{% endblock %}
